{"version":3,"file":"hash.mjs","names":[],"sources":["../../src/transactions/hash.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2.js';\n\n/**\n * Generates a Blake2b hash of typed data as a base64 string.\n *\n * @param typeTag type tag (e.g. TransactionData, SenderSignedData)\n * @param data data to hash\n */\nexport function hashTypedData(typeTag: string, data: Uint8Array): Uint8Array {\n\tconst typeTagBytes = Array.from(`${typeTag}::`).map((e) => e.charCodeAt(0));\n\n\tconst dataWithTag = new Uint8Array(typeTagBytes.length + data.length);\n\tdataWithTag.set(typeTagBytes);\n\tdataWithTag.set(data, typeTagBytes.length);\n\n\treturn blake2b(dataWithTag, { dkLen: 32 });\n}\n"],"mappings":";;;;;;;;;AAWA,SAAgB,cAAc,SAAiB,MAA8B;CAC5E,MAAM,eAAe,MAAM,KAAK,GAAG,QAAQ,IAAI,CAAC,KAAK,MAAM,EAAE,WAAW,EAAE,CAAC;CAE3E,MAAM,cAAc,IAAI,WAAW,aAAa,SAAS,KAAK,OAAO;AACrE,aAAY,IAAI,aAAa;AAC7B,aAAY,IAAI,MAAM,aAAa,OAAO;AAE1C,QAAO,QAAQ,aAAa,EAAE,OAAO,IAAI,CAAC"}